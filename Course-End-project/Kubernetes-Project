

mkdir project2

cd project2

vim deployment-mysql.yml

apiVersion: apps/v1
kind: Deployment
metadata:
 name: mysql
spec:
 replicas: 1
 selector:
  matchLabels:
   app: mysql-wordpress
 template:
  metadata:
   labels:
    app: mysql-wordpress
    product: mysql
  spec:
   containers:
     - name: mysql-container
       image: mysql
       env:
       - name: MYSQL_ROOT_PASSWORD
         value: password
       - name: MYSQL_DATABASE
         value: wordpress

---
apiVersion: v1
kind: Service
metadata:
 name: mysql
spec:
 type: ClusterIP
 ports:
  - targetPort: 3306
    port: 3306
 selector:
  app: mysql-wordpress
  product: mysql



Save the file


# kubectl create -f deployment-mysql.yml

# kubectl get all

If you wish to check the wordpressDB in the mysql pod


# kubectl exec -it <podname> -- bash

# mysql -u root -ppassword

# show databases;

you will see wordpress DB in it

give exit to come out of DB

give exit to comeout of container








